{"components/beautify/afterpay":"<!-- Begin Afterpay Stencil Snippet for BigCommerce v3.1.0 -->\r\n<script>\r\n    {{#or (if page_type '===' 'product') (if page_type '===' 'cart')}}\r\n        (function(){\r\n        {{#if page_type '===' 'product'}}\r\n            let targetSelector = '.productView .productView-price';\r\n        {{#if product.price.with_tax}}\r\n            let priceSelector = '.productView-price .price--withTax';\r\n            let cachedAmount = '{{product.price.with_tax.value}}';\r\n        {{else}}\r\n            let priceSelector = '.productView-price .price--withoutTax';\r\n            let cachedAmount = '{{product.price.without_tax.value}}';\r\n        {{/if}}\r\n        {{else if page_type '===' 'cart'}}\r\n            let targetSelector = 'ul.cart-totals li.cart-total:last-child';\r\n            let priceSelector = '.cart-total-grandTotal';\r\n            let cachedAmount = '{{cart.grand_total.value}}';\r\n        {{/if}}\r\n            const locales = {\r\n                AUD: 'en_AU',\r\n                NZD: 'en_NZ',\r\n                USD: 'en_US',\r\n            };\r\n            const init = function(){\r\n                Afterpay.createPlacements({\r\n                    targetSelector: targetSelector,\r\n                    attributes: {\r\n                        locale: locales['{{currency_selector.active_currency_code}}'],\r\n                        currency: '{{currency_selector.active_currency_code}}',\r\n                        amount: cachedAmount,\r\n                        size: Afterpay.size.SM,\r\n                        logoType: Afterpay.logoType.LOCKUP,\r\n                        lockupTheme: Afterpay.theme.lockup.BLACK\r\n                    }\r\n                });\r\n            };\r\n            const script = document.createElement('script');\r\n            script.src = \"https://js.afterpay.com/afterpay-1.x.js\";\r\n            script.dataset.min = \"1.00\";\r\n        {{#if currency_selector.active_currency_code \"==\" \"USD\"}}\r\n            script.dataset.max = \"1000.00\";\r\n        {{else}}\r\n            script.dataset.max = \"2000.00\";\r\n        {{/if}}\r\n            script.onload = function () {\r\n                init();\r\n                setInterval(() => {\r\n                    if (cachedAmount != document.querySelector(priceSelector).innerText) {\r\n                       cachedAmount = document.querySelector(priceSelector).innerText;\r\n                       if (document.querySelector('afterpay-placement')) {\r\n                           document.querySelector('afterpay-placement').dataset.amount = cachedAmount;\r\n                       } else {\r\n                           init();\r\n                       }\r\n                    }\r\n                }, 400);\r\n            };\r\n            document.head.appendChild(script);\r\n        })();\r\n    {{/or}}\r\n</script>\r\n<!-- End Afterpay Stencil Snippet for BigCommerce v3.1.0 -->\r\n"}
